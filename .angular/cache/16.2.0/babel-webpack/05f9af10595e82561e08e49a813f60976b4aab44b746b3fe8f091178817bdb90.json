{"ast":null,"code":"import { HotelFilter } from '../hotel-filter';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../hotel.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/router\";\nfunction HotelListComponent_div_21_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassMapInterpolate1(\"alert alert-\", ctx_r2.feedback.type, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r2.feedback.message);\n  }\n}\nconst _c0 = function (a1) {\n  return [\"../hotels\", a1];\n};\nfunction HotelListComponent_div_21_tr_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 21)(10, \"a\", 22);\n    i0.ɵɵtext(11, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\u00A0 \");\n    i0.ɵɵelementStart(13, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function HotelListComponent_div_21_tr_16_Template_button_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const item_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.delete(item_r4));\n    });\n    i0.ɵɵtext(14, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"active\", item_r4 === ctx_r3.selectedHotel);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.city);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.stars);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(7, _c0, item_r4.id));\n  }\n}\nfunction HotelListComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtemplate(1, HotelListComponent_div_21_div_1_Template, 2, 4, \"div\", 15);\n    i0.ɵɵelementStart(2, \"div\", 16)(3, \"table\", 17)(4, \"thead\")(5, \"tr\")(6, \"th\", 18);\n    i0.ɵɵtext(7, \"Id\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\", 18);\n    i0.ɵɵtext(9, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\", 18);\n    i0.ɵɵtext(11, \"City\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\", 18);\n    i0.ɵɵtext(13, \"Stars\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(14, \"th\", 19);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"tbody\");\n    i0.ɵɵtemplate(16, HotelListComponent_div_21_tr_16_Template, 15, 9, \"tr\", 20);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.feedback.message);\n    i0.ɵɵadvance(15);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.hotelList);\n  }\n}\nconst _c1 = function () {\n  return [\"../hotels\", \"new\"];\n};\nexport let HotelListComponent = /*#__PURE__*/(() => {\n  var _class;\n  class HotelListComponent {\n    get hotelList() {\n      return this.hotelService.hotelList;\n    }\n    constructor(hotelService) {\n      this.hotelService = hotelService;\n      this.filter = new HotelFilter();\n      this.feedback = {};\n    }\n    ngOnInit() {\n      this.search();\n    }\n    search() {\n      this.hotelService.load(this.filter);\n    }\n    select(selected) {\n      this.selectedHotel = selected;\n    }\n    delete(hotel) {\n      if (confirm('Are you sure?')) {\n        this.hotelService.delete(hotel).subscribe({\n          next: () => {\n            this.feedback = {\n              type: 'success',\n              message: 'Delete was successful!'\n            };\n            setTimeout(() => {\n              this.search();\n            }, 1000);\n          },\n          error: err => {\n            this.feedback = {\n              type: 'warning',\n              message: 'Error deleting.'\n            };\n          }\n        });\n      }\n    }\n  }\n  _class = HotelListComponent;\n  _class.ɵfac = function HotelListComponent_Factory(t) {\n    return new (t || _class)(i0.ɵɵdirectiveInject(i1.HotelService));\n  };\n  _class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: _class,\n    selectors: [[\"app-hotel\"]],\n    decls: 22,\n    vars: 5,\n    consts: [[1, \"breadcrumb\", \"float-right\"], [1, \"breadcrumb-item\"], [\"routerLink\", \"/\"], [1, \"breadcrumb-item\", \"active\"], [1, \"card\"], [1, \"header\"], [1, \"title\"], [1, \"content\"], [\"f\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"city\"], [\"id\", \"city\", \"name\", \"city\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"btn\", \"btn-primary\", 3, \"disabled\", \"click\"], [1, \"btn\", \"btn-default\", 3, \"routerLink\"], [\"class\", \"card\", 4, \"ngIf\"], [3, \"class\", 4, \"ngIf\"], [1, \"table-responsive\"], [\"id\", \"datatable\", 1, \"table\", \"table-centered\", \"table-hover\", \"mb-0\"], [\"scope\", \"col\", 1, \"border-top-0\"], [\"scope\", \"col\", 1, \"border-top-0\", 2, \"width\", \"120px\"], [3, \"active\", 4, \"ngFor\", \"ngForOf\"], [2, \"white-space\", \"nowrap\"], [1, \"btn\", \"btn-secondary\", 3, \"routerLink\"], [1, \"btn\", \"btn-danger\", 3, \"click\"]],\n    template: function HotelListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ol\", 0)(1, \"li\", 1)(2, \"a\", 2);\n        i0.ɵɵtext(3, \"Home\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(4, \"li\", 3);\n        i0.ɵɵtext(5, \"Hotel\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"div\", 4)(7, \"div\", 5)(8, \"h2\", 6);\n        i0.ɵɵtext(9, \"Hotel List\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(10, \"div\", 7)(11, \"form\", null, 8)(13, \"div\", 9)(14, \"label\", 10);\n        i0.ɵɵtext(15, \"City:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"input\", 11);\n        i0.ɵɵlistener(\"ngModelChange\", function HotelListComponent_Template_input_ngModelChange_16_listener($event) {\n          return ctx.filter.city = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(17, \"button\", 12);\n        i0.ɵɵlistener(\"click\", function HotelListComponent_Template_button_click_17_listener() {\n          return ctx.search();\n        });\n        i0.ɵɵtext(18, \"Search\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"a\", 13);\n        i0.ɵɵtext(20, \"New\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵtemplate(21, HotelListComponent_div_21_Template, 17, 2, \"div\", 14);\n      }\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(12);\n        i0.ɵɵadvance(16);\n        i0.ɵɵproperty(\"ngModel\", ctx.filter.city);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", !(_r0 == null ? null : _r0.valid));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(4, _c1));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.hotelList.length > 0);\n      }\n    },\n    dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm, i4.RouterLink],\n    encapsulation: 2\n  });\n  return HotelListComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}