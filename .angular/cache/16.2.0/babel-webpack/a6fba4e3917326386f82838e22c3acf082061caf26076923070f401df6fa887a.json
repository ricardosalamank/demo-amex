{"ast":null,"code":"var _class;\nimport { EMPTY } from 'rxjs';\nimport { HttpHeaders, HttpParams } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nconst headers = new HttpHeaders().set('Accept', 'application/json');\nexport class PackageAmexService {\n  constructor(http) {\n    this.http = http;\n    this.packageAmexList = [];\n    this.api = 'https://american-export-crud-dk7m-dev.fl0.io/api/package';\n  }\n  findById(id) {\n    const url = `${this.api}/id/${id}`;\n    // const params = { id: id };\n    return this.http.get(url, {\n      headers\n    });\n  }\n  load(filter) {\n    this.find(filter).subscribe({\n      next: result => {\n        this.packageAmexList = result.response_body.data;\n      },\n      error: err => {\n        console.error('error loading', err);\n      }\n    });\n  }\n  find(filter) {\n    const params = {};\n    return this.http.get(this.api, {\n      params,\n      headers\n    });\n  }\n  save(entity) {\n    let params = new HttpParams();\n    let url = '';\n    if (entity.id) {\n      url = `${this.api}/update`;\n      // params = new HttpParams().set('ID', entity.id.toString());\n      return this.http.put(url, entity, {\n        headers\n      });\n    } else {\n      url = `${this.api}`;\n      console.log(\"llego post :\" + entity);\n      entity.id = 0;\n      entity.created_date = new Date();\n      entity.modified_date = new Date();\n      entity.created_by = \"RIC\";\n      entity.modified_by = \"Golasas\";\n      entity.height = \"50\";\n      return this.http.post(url, entity, {\n        headers,\n        params\n      });\n    }\n  }\n  delete(entity) {\n    let params = new HttpParams();\n    let url = '';\n    if (entity.id) {\n      url = `${this.api}/del/${entity.id.toString()}`;\n      // params = new HttpParams().set('ID', entity.id.toString());\n      return this.http.delete(url, {\n        headers\n      });\n    }\n    return EMPTY;\n  }\n}\n_class = PackageAmexService;\n_class.ɵfac = function PackageAmexService_Factory(t) {\n  return new (t || _class)(i0.ɵɵinject(i1.HttpClient));\n};\n_class.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: _class,\n  factory: _class.ɵfac\n});","map":{"version":3,"names":["EMPTY","HttpHeaders","HttpParams","headers","set","PackageAmexService","constructor","http","packageAmexList","api","findById","id","url","get","load","filter","find","subscribe","next","result","response_body","data","error","err","console","params","save","entity","put","log","created_date","Date","modified_date","created_by","modified_by","height","post","delete","toString","i0","ɵɵinject","i1","HttpClient","factory","ɵfac"],"sources":["/mnt/c/Users/1030598961/Documents/nodeExercises/demo-amex/src/app/package-amex/package-amex.service.ts"],"sourcesContent":["import { PackageAmex, PackageAmexClass } from './package-amex';\nimport { PackageAmexFilter } from './package-amex-filter';\nimport { Injectable } from '@angular/core';\nimport { EMPTY, Observable } from 'rxjs';\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\n\nconst headers = new HttpHeaders().set('Accept', 'application/json');\n\n@Injectable()\nexport class PackageAmexService {\n  packageAmexList: PackageAmexClass[] = [];\n  api = 'https://american-export-crud-dk7m-dev.fl0.io/api/package';\n\n  constructor(private http: HttpClient) {\n  }\n\n  findById(id: string): Observable<PackageAmexClass> {\n    const url = `${this.api}/id/${id}`;\n   // const params = { id: id };\n    return this.http.get<PackageAmexClass>(url, { headers});\n  }\n\n  load(filter: PackageAmexFilter): void {\n    this.find(filter).subscribe({\n      next: result => {\n        this.packageAmexList = result.response_body.data;\n      },\n      error: err => {\n        console.error('error loading', err);\n      }\n    });\n  }\n\n  find(filter: PackageAmexFilter): Observable<PackageAmex> {\n    const params = {\n    };\n\n    return this.http.get<PackageAmex>(this.api, {params, headers});\n  }\n\n  save(entity: PackageAmexClass): Observable<PackageAmexClass> {\n    let params = new HttpParams();\n    let url = '';\n    if (entity.id) {\n      url = `${this.api}/update`;\n     // params = new HttpParams().set('ID', entity.id.toString());\n      return this.http.put<PackageAmexClass>(url, entity, {headers});\n    } else {\n      url = `${this.api}`;\n      console.log(\"llego post :\" + entity);\n      entity.id = 0;\n      entity.created_date = new Date();\n      entity.modified_date = new Date();\n      entity.created_by = \"RIC\";\n      entity.modified_by = \"Golasas\"\n      entity.height = \"50\";\n      return this.http.post<PackageAmexClass>(url, entity, {headers, params});\n    }\n  }\n\n  delete(entity: PackageAmexClass): Observable<PackageAmexClass> {\n    let params = new HttpParams();\n    let url = '';\n    if (entity.id) {\n      url = `${this.api}/del/${entity.id.toString()}`;\n     // params = new HttpParams().set('ID', entity.id.toString());\n      return this.http.delete<PackageAmexClass>(url, {headers});\n    }\n    return EMPTY;\n  }\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}